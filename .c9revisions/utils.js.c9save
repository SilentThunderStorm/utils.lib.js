{"ts":1381714721724,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1381715250185,"patch":[[{"diffs":[[1,"var utils =\n{\n    // Extremely flexible timer system\n\ttimer:function(duration, callbacks, options)\n\t{\n\t\tif(this instanceof timer)\n\t\t{\n\t\t\tif \n\t\t\t( \n\t\t\t\ttypeof arguments[0] != 'number' && \n\t\t\t\ttypeof arguments[1].onfinish ==='undefined'\n\t\t\t) \n\t\t\t{\n\t\t\t\tthrow (\"Timer requires, at minimum, a duration and an 'onfinish' callback.\");\n\t\t\t}\n\t\t\t\n\t\t\tvar self = this;\n\t\t\t\n\t\t\tthis.duration = arguments[0];\n\t\t\tthis.progress = 0;\n\t\t\tthis.time = 0;\n\t\t\tthis.status = 'ready';\n\t\t\t\n\t\t\t// Callbacks\n\t\t\tvar onstart = arguments[1].onstart||null,\n\t\t\tonprogress = arguments[1].onprogress||null,\n\t\t\tonpause = arguments[1].onpause||null,\n\t\t\tonabort = arguments[1].onabort||null,\n\t\t\tonreset = arguments[1].onreset||null,\n\t\t\tonfinish = arguments[1].onfinish||arguments[1];\n\t\t\t\n\t\t\t// Option Flags\n\t\t\tif(typeof arguments[2] == 'undefined') arguments[2] = '';\n\t\t\tthis.continuous = arguments[2].continuous||false;\n\t\t\t// TODO this.global = arguments[2].global||null;\n\t\t\tthis.ease = arguments[2].ease||null;\n\t\t\t\t\t\n\t\t\tvar current = 0, total = 0;\n\t\t\t\n\t\t\t// Main methods\n\t\t\tthis.start = function()\n\t\t\t{\n\t\t\t\tvar msg = (this.status == 'paused')?'Restarting':'Starting';\n\t\t\t\tthis.status = 'running';\n\t\t\t\tcurrent = new Date().getTime();\n\t\t\t\tthis.run();\n\t\t\t\tif(onstart)onstart(msg);\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tthis.pause = function()\n\t\t\t{\n\t\t\t\tvar now = new Date().getTime();\n\t\t\t\ttotal += now - current;\n\t\t\t\tcurrent = now;\n\t\t\t\tthis.status = 'paused';\n\t\t\t\tif(onpause)onpause(total);\n\t\t\t\treturn total;\n\t\t\t};\n\t\t\tthis.abort = function()\n\t\t\t{\n\t\t\t\tthis.time = this.progress = 0;\n\t\t\t\ttotal = current = 0;\n\t\t\t\tthis.status = 'aborted';\n\t\t\t\tif(onabort)onabort();\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tthis.reset = function()\n\t\t\t{\n\t\t\t\tthis.time = this.progress = 0;\n\t\t\t\ttotal = current = 0;\n\t\t\t\tthis.status = 'ready';\n\t\t\t\tif(onreset)onreset();\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\t\n\t\t\t// Main loop\n\t\t\tthis.run = function()\n\t\t\t{\n\t\t\t\tif(this.status != 'running') return false;\n\t\t\t\t\n\t\t\t\tvar now = new Date().getTime();\n\t\t\t\tthis.time = now-current+total;\n\t\t\t\t\n\t\t\t\tthis.progress = this.time / this.duration;\n\t\t\t\t\n\t\t\t\tif(onprogress) onprogress((this.progress>1)?1:this.progress);\n\t\t\t\t\n\t\t\t\tvar ease;\n\t\t\t\tif(this.ease) ease((this.progress>1)?1:this.progress);\n\t\t\t\t\n\t\t\t\tif (this.progress > 1)\n\t\t\t\t{\n\t\t\t\t\tonfinish();\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tif((!!this.continuous) && (this.status != 'aborted'))this.start();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\trequestAnimationFrame(function(){self.run()});\n\t\t\t};\n\t\t}\n\t\telse return new timer(duration, callbacks, options);\n\t}\n};"]],"start1":0,"start2":0,"length1":0,"length2":2473}]],"length":2473,"saved":false}
{"ts":1381715730032,"patch":[[{"diffs":[[0,")\n\t\t{\n\t\t"],[-1,"\t"],[1,"    "],[0,"if \n\t\t\t("]],"start1":128,"start2":128,"length1":17,"length2":20}]],"length":2476,"saved":false}
{"ts":1381720094357,"patch":[[{"diffs":[[0,"er)\n\t\t{\n"],[-1,"\t\t"],[1,"        "],[0,"    if \n"]],"start1":126,"start2":126,"length1":18,"length2":24}]],"length":2482,"saved":false}
{"ts":1381720369037,"patch":[[{"diffs":[[0,"    "],[-1,"// Extremely flexible timer system\n\t"],[0,"time"]],"start1":14,"start2":14,"length1":44,"length2":8}]],"length":2446,"saved":false}
{"ts":1381720397806,"patch":[[{"diffs":[[0,"ns);\n\t}\n"],[1,"\t\n\t// Additonal stuff for the library goes here.\n"],[0,"};"]],"start1":2436,"start2":2436,"length1":10,"length2":59}]],"length":2495,"saved":false}
{"ts":1381720977985,"patch":[[{"diffs":[[0,"gress = "],[1,"("],[0,"this.tim"]],"start1":1965,"start2":1965,"length1":16,"length2":17},{"diffs":[[0,"time"],[-1," / "],[1,"/this.duration > 1)?1:(this.time/"],[0,"this"]],"start1":1979,"start2":1979,"length1":11,"length2":41},{"diffs":[[0,"duration"],[1,")"],[0,";\n\t\t\t\t\n\t"]],"start1":2021,"start2":2021,"length1":16,"length2":17},{"diffs":[[0,"rogress("],[-1,"(this.progress>1)?1:"],[0,"this.pro"]],"start1":2059,"start2":2059,"length1":36,"length2":16}]],"length":2507,"saved":false}
{"ts":1381721051053,"patch":[[{"diffs":[[0,"\t\t\t\t"],[-1,"this.progress"],[1,"var p"],[0," = "],[-1,"("],[0,"this"]],"start1":1953,"start2":1953,"length1":25,"length2":16},{"diffs":[[0,"tion"],[-1," > 1)?1:(this.time/this.duration)"],[1,";\n\t\t\t\tthis.progress = (p>1)?1:p"],[0,";\n\t\t"]],"start1":1984,"start2":1984,"length1":41,"length2":39}]],"length":2496,"saved":false}
